import{r as u,R as g,d as h,j as t,H as b}from"./index-DlaPIuop.js";function p(r){if(r===0)return"0 B";const n=1024,m=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(r)/Math.log(n));return`${(r/Math.pow(n,s)).toFixed(s===0?0:2)} ${m[s]}`}async function k(r,n){try{const s=(await fetch(r,{method:"HEAD",signal:n})).headers.get("Content-Length");if(s)return p(parseInt(s,10));const o=(await fetch(r,{method:"GET",headers:{Range:"bytes=0-0"},signal:n})).headers.get("Content-Range");if(o&&o.includes("/")){const i=o.split("/")[1],d=parseInt(i,10);if(!Number.isNaN(d))return p(d)}return null}catch{return null}}function j(r){const[n,m]=u.useState({}),s=u.useMemo(()=>{const o=new Set(r.filter(i=>!!i&&i!=="#"));return Array.from(o)},[r]),x=u.useMemo(()=>s.join("|"),[s]);return u.useEffect(()=>{if(!s.length)return;const o=new AbortController,i=s.filter(d=>!(d in n));if(i.length)return(async()=>{const d=await Promise.all(i.map(async e=>[e,await k(e,o.signal)]));m(e=>{let c=!1;const a={...e};for(const[l,f]of d)a[l]!==f&&(a[l]=f,c=!0);return c?a:e})})(),()=>o.abort()},[x,n]),n}const w=()=>{const r=g.useMemo(()=>h.map(e=>e.link),[h]),n=j(r),m={completed:{bg:"bg-emerald-100 dark:bg-emerald-900/30",text:"text-emerald-700 dark:text-emerald-300"},"in-progress":{bg:"bg-amber-100 dark:bg-amber-900/30",text:"text-amber-700 dark:text-amber-300"},planned:{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-300"}},s=()=>{const e=h.filter(a=>a.lastUpdated).map(a=>a.lastUpdated.getTime());if(e.length===0)return"No updates yet";const c=new Date(Math.max(...e));return`Last updated: ${x(c)}`},x=e=>e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),o=e=>{const a=Math.abs(new Date().getTime()-e.getTime()),l=Math.floor(a/(1e3*60*60*24));return l===0?"today":l===1?"yesterday":l<7?`${l} days ago`:l<30?`${Math.floor(l/7)} weeks ago`:x(e)},i=e=>{switch(e.status){case"completed":return"Open document â†’";case"in-progress":return`Updated ${o(e.lastUpdated)}`;case"planned":return"Scheduled for development";default:return""}},d=e=>({PDF:"ðŸ“„",Draft:"ðŸ“",Planned:"ðŸ“…",Word:"ðŸ“„",Excel:"ðŸ“Š",Presentation:"ðŸ“Š"})[e]||"ðŸ“„";return t.jsx("section",{id:"documents",className:"py-12 md:py-16 bg-white dark:bg-slate-900 border-t border-b border-slate-200/70 dark:border-slate-700 transition-colors",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-end justify-between gap-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900 dark:text-slate-100 transition-colors",children:"Documents"}),t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 transition-colors",children:s()})]}),t.jsx("div",{className:"mt-8 grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((e,c)=>{const a=e.link&&e.link!=="#"?n[e.link]:null;return t.jsxs("div",{className:`group rounded-2xl p-6 border border-slate-200/70 dark:border-slate-700 ${e.status==="completed"?"bg-slate-50 dark:bg-slate-800":"bg-white dark:bg-slate-800/70"} transition-colors duration-300 hover:shadow-md hover:border-slate-300 dark:hover:border-slate-600`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"text-2xl mr-3 select-none",children:[" ",d(e.fileType)," "]}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${m[e.status].bg} ${m[e.status].text} whitespace-nowrap transition-colors`,children:e.fileType})]}),t.jsx("h3",{className:"font-bold text-lg mb-2 text-slate-900 dark:text-slate-100 transition-colors",children:e.title}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4 transition-colors",children:e.description}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 space-y-1 mb-4 transition-colors",children:[a&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Size:"}),t.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200 transition-colors",children:a})]}),e.lastUpdated&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Updated:"}),t.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200 transition-colors",children:x(e.lastUpdated)})]})]}),t.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center text-sm font-medium transition-colors ${e.status==="completed"?"text-sky-600 hover:text-sky-700 dark:text-sky-400 dark:hover:text-sky-300":"text-slate-400 dark:text-slate-500 cursor-not-allowed"}`,onClick:e.status!=="completed"?l=>l.preventDefault():void 0,children:[i(e),e.status==="completed"&&t.jsx(b,{className:"w-4 h-4 ml-1"})]})]},c)})})]})})};export{w as default};
